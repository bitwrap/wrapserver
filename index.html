<!DOCTYPE HTML>
<html lang="en">
<head profile="http://www.w3.org/2005/10/profile">
    <title>bitwrap.io</title>
    <meta charset="UTF-8">
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type">
    <meta content="utf-8" http-equiv="encoding">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel="icon" type="image/png" href="bw-logo.png" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.6/css/bootstrap.min.css" crossorigin="anonymous">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/snap.svg/0.4.1/snap.svg-min.js" crossorigin="anonymous"></script>
</head>
<body>
  <nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="#"><img src="logo.svg" height=40 style=" margin-top: -11px;" ></a>
      </div>
      <div id="navbar" class="collapse navbar-collapse">
        <ul class="nav navbar-nav">
          <li><a href="#">SVG Gallery</a></li>
        </ul>
      </div>
    </div>
  </nav>
    <app>
    <div id="app-layout"><!-- inject svg --></div>
      <!-- <img src="http://127.0.0.1:8000/counter/000000000.svg" alt="counter-000000000" > -->

      <hr />
      <hr />

      <div class="col-md-3">
        <h4> <span class="label label-default">Counter</span> </h4>
        <svg id="counter-svg" ></svg>
      </div>

      <div class="col-md-3">
        <h4> <span class="label label-default">Octothorpe</span> </h4>
        <svg id="octothorpe-svg" ></svg>
      </div>

      <script src="/bundle.js" type="text/javascript"></script>

      <script type="text/javascript">
        function widget(name, id, args={}) {
          window.templates[name](window.Snap(id), args);
        }

        // TODO: replace this w/ ajax call
        testdata = {
          "query": {},
          "params": {},
          "body": {
            "event": {
              "state": [
                33
              ],
              "endpoint": "api.bitwrap.io",
              "error": 0,
              "action": "INC",
              "ip": null,
              "oid": "000000000",
              "payload": {},
              "previous": "fee1d84a8226f315"
            },
            "id": "cca8ffdb2ef048a9"
          }
        }

        widget( 'counter', '#counter-svg', testdata );
        widget( 'octothorpe', '#octothorpe-svg', testdata);

        //render('counter', '#octothorpe-svg', { "state_data": { "P0": [ 99 ] }});
        //window.templates.counter(Snap('#octothorpe-svg'), {});
      </script>
    </app>
  </body>
</html>
